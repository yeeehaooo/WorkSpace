# Skill ä½¿ç”¨æ™‚æ©Ÿèˆ‡è§¸ç™¼æ©Ÿåˆ¶æŒ‡å—

## æ¦‚è¿°

Skills æ¡ç”¨ **Progressive Disclosureï¼ˆæ¼¸é€²å¼æ­éœ²ï¼‰** æ©Ÿåˆ¶ï¼Œåˆ†ç‚ºä¸‰å€‹å±¤ç´šï¼š

1. **Metadata Only**ï¼ˆç¸½æ˜¯è¼‰å…¥ï¼‰ï¼š~100 tokens/skill
2. **SKILL.md Body**ï¼ˆè§¸ç™¼æ™‚è¼‰å…¥ï¼‰ï¼š< 5000 words
3. **Resources**ï¼ˆæ˜ç¢ºéœ€è¦æ™‚è¼‰å…¥ï¼‰ï¼šreferences/scripts/assets

---

## ä½•æ™‚æœƒå¾ Metadata åˆ‡æ›åˆ°å®Œæ•´ SKILL.mdï¼Ÿ

### è§¸ç™¼æ¢ä»¶ï¼ˆå„ªå…ˆé †åºï¼‰

#### 1. **æ˜ç¢ºæåŠ (Explicit Mention)** â­ æœ€é«˜å„ªå…ˆç´š

**ç¯„ä¾‹ï¼š**
- ç”¨æˆ¶èªªï¼šã€Œä½¿ç”¨ unit-of-work patternã€
- ç”¨æˆ¶èªªï¼šã€Œå¹«æˆ‘å»ºç«‹ä¸€å€‹ repositoryã€
- ç”¨æˆ¶èªªï¼šã€Œæˆ‘éœ€è¦å¯¦ä½œ domain eventã€

**å‹•ä½œï¼š** ç«‹å³è¼‰å…¥å°æ‡‰çš„å®Œæ•´ SKILL.md

---

#### 2. **æè¿°åŒ¹é… (Description Match)**

**ç¯„ä¾‹ï¼š**
- ç”¨æˆ¶èªªï¼šã€Œæˆ‘éœ€è¦è™•ç†è³‡æ–™åº«äº¤æ˜“é‚Šç•Œã€
  - â†’ åŒ¹é… `unit-of-work` çš„æè¿°ï¼šã€ŒProvide transactional boundary controlã€
  - â†’ è¼‰å…¥ `unit-of-work/SKILL.md`

- ç”¨æˆ¶èªªï¼šã€Œç•¶æ¥­å‹™äº‹ä»¶ç™¼ç”Ÿæ™‚è¦é€šçŸ¥å…¶ä»–æ¨¡çµ„ã€
  - â†’ åŒ¹é… `domain-event` çš„æè¿°ï¼šã€ŒEnable domain entities to publish eventsã€
  - â†’ è¼‰å…¥ `domain-event/SKILL.md`

**å‹•ä½œï¼š** è¼‰å…¥åŒ¹é…çš„å®Œæ•´ SKILL.md

---

#### 3. **æ¨™ç±¤åŒ¹é… (Tag Match)**

**ç¯„ä¾‹ï¼š**
- ç”¨æˆ¶èªªï¼šã€Œæˆ‘éœ€è¦ä¸€å€‹ .NET çš„ patternã€
  - â†’ åŒ¹é…æ‰€æœ‰ tags åŒ…å« `dotnet` å’Œ `pattern` çš„ skills
  - â†’ å¯èƒ½è¼‰å…¥å¤šå€‹ skillsï¼ˆå¦‚ï¼šunit-of-work, domain-event, outbox ç­‰ï¼‰

- ç”¨æˆ¶èªªï¼šã€Œå»ºç«‹ä¸€å€‹ generatorã€
  - â†’ åŒ¹é…æ‰€æœ‰ tags åŒ…å« `generator` çš„ skills
  - â†’ è¼‰å…¥ create-clean-module, create-domain-aggregate, create-repository

**å‹•ä½œï¼š** è¼‰å…¥æ‰€æœ‰åŒ¹é…çš„å®Œæ•´ SKILL.md

---

#### 4. **ä¸Šä¸‹æ–‡åŒ¹é… (Context Match)**

**ç¯„ä¾‹ï¼š**
- ç”¨æˆ¶æ­£åœ¨ç·¨è¼¯ä¸€å€‹ Command Handlerï¼Œæåˆ°ã€Œéœ€è¦ç¢ºä¿è³‡æ–™ä¸€è‡´æ€§ã€
  - â†’ ä¸Šä¸‹æ–‡æš—ç¤ºéœ€è¦ transaction ç®¡ç†
  - â†’ è¼‰å…¥ `unit-of-work/SKILL.md`

- ç”¨æˆ¶æ­£åœ¨å»ºç«‹æ–°çš„ Aggregateï¼Œæåˆ°ã€Œéœ€è¦é€šçŸ¥å…¶ä»–æœå‹™ã€
  - â†’ ä¸Šä¸‹æ–‡æš—ç¤ºéœ€è¦äº‹ä»¶æ©Ÿåˆ¶
  - â†’ è¼‰å…¥ `domain-event/SKILL.md` æˆ– `outbox/SKILL.md`

**å‹•ä½œï¼š** è¼‰å…¥ä¸Šä¸‹æ–‡ç›¸é—œçš„å®Œæ•´ SKILL.md

---

## å¯¦éš›ä½¿ç”¨æµç¨‹ç¯„ä¾‹

### ç¯„ä¾‹ 1ï¼šæ˜ç¢ºæåŠ

**ç”¨æˆ¶è«‹æ±‚ï¼š**
```
ã€Œä½¿ç”¨ unit-of-work pattern å¯¦ä½œé€™å€‹ command handlerã€
```

**AI æµç¨‹ï¼š**
1. âœ… è®€å– metadataï¼ˆå·²åœ¨ context ä¸­ï¼Œ~100 tokensï¼‰
2. âœ… è­˜åˆ¥ã€Œunit-of-workã€ç‚ºæ˜ç¢ºæåŠ
3. âœ… **è¼‰å…¥å®Œæ•´ SKILL.md**ï¼ˆ~3000 tokensï¼‰
4. âœ… æ ¹æ“š SKILL.md çš„æŒ‡å¼•å¯¦ä½œ

**Token æ¶ˆè€—ï¼š** ~3,100 tokensï¼ˆmetadata + å®Œæ•´å…§å®¹ï¼‰

---

### ç¯„ä¾‹ 2ï¼šæè¿°åŒ¹é…

**ç”¨æˆ¶è«‹æ±‚ï¼š**
```
ã€Œæˆ‘éœ€è¦ç¢ºä¿å¤šå€‹ repository æ“ä½œåœ¨åŒä¸€å€‹äº¤æ˜“ä¸­åŸ·è¡Œã€
```

**AI æµç¨‹ï¼š**
1. âœ… è®€å– metadataï¼ˆå·²åœ¨ context ä¸­ï¼‰
2. âœ… æ¯”å°æè¿°ï¼šã€Œtransaction boundaryã€â†’ åŒ¹é… `unit-of-work`
3. âœ… **è¼‰å…¥ `unit-of-work/SKILL.md`**
4. âœ… æ ¹æ“šæŒ‡å¼•æä¾›è§£æ±ºæ–¹æ¡ˆ

**Token æ¶ˆè€—ï¼š** ~3,100 tokens

---

### ç¯„ä¾‹ 3ï¼šæ¨™ç±¤åŒ¹é…ï¼ˆå¤šå€‹ skillsï¼‰

**ç”¨æˆ¶è«‹æ±‚ï¼š**
```
ã€Œæˆ‘éœ€è¦å»ºç«‹ä¸€å€‹æ–°çš„ Clean Architecture æ¨¡çµ„ã€
```

**AI æµç¨‹ï¼š**
1. âœ… è®€å– metadata
2. âœ… æ¯”å°æ¨™ç±¤ï¼šã€ŒClean Architectureã€â†’ åŒ¹é…å¤šå€‹ skills
   - `create-clean-module` (generator)
   - `clean` (structure)
   - `unit-of-work` (pattern, å¯èƒ½ç›¸é—œ)
3. âœ… **è¼‰å…¥åŒ¹é…çš„ SKILL.md**ï¼ˆå¯èƒ½ 2-3 å€‹ï¼‰
4. âœ… çµ„åˆä½¿ç”¨å¤šå€‹ skills çš„æŒ‡å¼•

**Token æ¶ˆè€—ï¼š** ~6,000-9,000 tokensï¼ˆ2-3 å€‹ skillsï¼‰

---

### ç¯„ä¾‹ 4ï¼šä¸Šä¸‹æ–‡åŒ¹é…

**ç”¨æˆ¶æ­£åœ¨ç·¨è¼¯ï¼š**
```csharp
public class CreateOrderCommandHandler
{
    // ç”¨æˆ¶æåˆ°ï¼šã€Œéœ€è¦ç¢ºä¿åº«å­˜æ‰£æ¸›å’Œè¨‚å–®å»ºç«‹æ˜¯åŸå­æ“ä½œã€
}
```

**AI æµç¨‹ï¼š**
1. âœ… è®€å– metadata
2. âœ… åˆ†æä¸Šä¸‹æ–‡ï¼šCommand Handler + åŸå­æ“ä½œéœ€æ±‚
3. âœ… åŒ¹é… `unit-of-work` çš„ã€ŒUse when: Implementing command handlers requiring transactionsã€
4. âœ… **è¼‰å…¥ `unit-of-work/SKILL.md`**
5. âœ… æä¾›å¯¦ä½œå»ºè­°

**Token æ¶ˆè€—ï¼š** ~3,100 tokens

---

## ä½•æ™‚è¼‰å…¥ Resourcesï¼Ÿ

Resourcesï¼ˆreferences/scripts/assetsï¼‰**ä¸æœƒè‡ªå‹•è¼‰å…¥**ï¼Œåªåœ¨ä»¥ä¸‹æƒ…æ³è¼‰å…¥ï¼š

### 1. SKILL.md æ˜ç¢ºå¼•ç”¨
- SKILL.md ä¸­å¼•ç”¨äº† `references/example.md`
- éœ€è¦æ™‚æ‰è¼‰å…¥è©²æª”æ¡ˆ

### 2. ç”¨æˆ¶æ˜ç¢ºè¦æ±‚
- ç”¨æˆ¶èªªï¼šã€Œé¡¯ç¤º unit-of-work çš„ç¯„ä¾‹ç¨‹å¼ç¢¼ã€
- è¼‰å…¥ `references/example.cs`

### 3. åŸ·è¡Œè…³æœ¬ï¼ˆä¸è¼‰å…¥ contextï¼‰
- ç”¨æˆ¶è¦æ±‚åŸ·è¡Œ `scripts/setup.sh`
- **ç›´æ¥åŸ·è¡Œ**ï¼Œä¸è¼‰å…¥åˆ° context

---

## å¤šå€‹ Skills åŒæ™‚è§¸ç™¼

**è¦å‰‡ï¼š** å¯ä»¥åŒæ™‚è§¸ç™¼å¤šå€‹ skillsï¼Œå¦‚æœå®ƒå€‘æ˜¯äº’è£œçš„ã€‚

**ç¯„ä¾‹ï¼š**
```
ç”¨æˆ¶ï¼šã€Œå»ºç«‹ä¸€å€‹æ–°çš„ Clean Architecture æ¨¡çµ„ï¼Œä½¿ç”¨ domain events å’Œ unit of workã€
```

**AI æµç¨‹ï¼š**
1. âœ… è¼‰å…¥ `create-clean-module/SKILL.md`ï¼ˆgeneratorï¼‰
2. âœ… è¼‰å…¥ `domain-event/SKILL.md`ï¼ˆpatternï¼‰
3. âœ… è¼‰å…¥ `unit-of-work/SKILL.md`ï¼ˆpatternï¼‰
4. âœ… çµ„åˆä½¿ç”¨ä¸‰å€‹ skills çš„æŒ‡å¼•

**Token æ¶ˆè€—ï¼š** ~9,000 tokensï¼ˆ3 å€‹ skillsï¼‰

---

## è¡çªè§£æ±º

ç•¶å¤šå€‹ skills å¯èƒ½åŒ¹é…æ™‚ï¼š

1. **å„ªå…ˆæ˜ç¢ºæåŠ**
   - ç”¨æˆ¶èªªã€Œä½¿ç”¨ unit-of-workã€â†’ åªè¼‰å…¥ unit-of-work

2. **å„ªå…ˆæ›´ç‰¹å®šçš„ skill**
   - `create-domain-aggregate` æ¯” `create-clean-module` æ›´ç‰¹å®š
   - å¦‚æœéƒ½åŒ¹é…ï¼Œå„ªå…ˆè¼‰å…¥æ›´ç‰¹å®šçš„

3. **è©¢å•ç”¨æˆ¶**
   - å¦‚æœç„¡æ³•ç¢ºå®šï¼Œè©¢å•ç”¨æˆ¶è¦ä½¿ç”¨å“ªå€‹ skill

---

## Token æ¶ˆè€—å°æ¯”

### âŒ éŒ¯èª¤åšæ³•ï¼ˆè¼‰å…¥æ‰€æœ‰ skillsï¼‰

```
è¼‰å…¥æ‰€æœ‰ 20 å€‹ skills çš„å®Œæ•´ SKILL.md
= 20 Ã— 3,000 tokens
= 60,000 tokensï¼ˆåƒ… skillsï¼‰
+ å…¶ä»– context
= 370,000+ tokens âŒ
```

### âœ… æ­£ç¢ºåšæ³•ï¼ˆæŒ‰éœ€è¼‰å…¥ï¼‰

```
Metadataï¼ˆç¸½æ˜¯è¼‰å…¥ï¼‰ï¼š
= 20 Ã— 100 tokens
= 2,000 tokens

è§¸ç™¼ 1 å€‹ skillï¼š
= 2,000 + 3,000
= 5,000 tokens âœ…

è§¸ç™¼ 3 å€‹ skillsï¼š
= 2,000 + 9,000
= 11,000 tokens âœ…
```

---

## ç¸½çµ

### Metadata éšæ®µï¼ˆç¸½æ˜¯ï¼‰
- âœ… ç”¨æ–¼ skill discovery
- âœ… ç”¨æ–¼æ¯”å°ç”¨æˆ¶è«‹æ±‚
- âœ… æˆæœ¬ä½ï¼ˆ~100 tokens/skillï¼‰

### å®Œæ•´ SKILL.md éšæ®µï¼ˆè§¸ç™¼æ™‚ï¼‰
- âœ… æ˜ç¢ºæåŠ â†’ ç«‹å³è¼‰å…¥
- âœ… æè¿°åŒ¹é… â†’ è¼‰å…¥åŒ¹é…çš„
- âœ… æ¨™ç±¤åŒ¹é… â†’ è¼‰å…¥åŒ¹é…çš„
- âœ… ä¸Šä¸‹æ–‡åŒ¹é… â†’ è¼‰å…¥ç›¸é—œçš„

### Resources éšæ®µï¼ˆæ˜ç¢ºéœ€è¦æ™‚ï¼‰
- âœ… SKILL.md å¼•ç”¨æ™‚
- âœ… ç”¨æˆ¶æ˜ç¢ºè¦æ±‚æ™‚
- âœ… è…³æœ¬ç›´æ¥åŸ·è¡Œï¼ˆä¸è¼‰å…¥ contextï¼‰

---

**é—œéµåŸå‰‡ï¼š**
- ğŸ¯ **Metadata ç”¨æ–¼æ¢ç´¢ï¼Œå®Œæ•´å…§å®¹ç”¨æ–¼å¯¦ä½œ**
- ğŸ¯ **æŒ‰éœ€è¼‰å…¥ï¼Œä¸è¦é è¼‰**
- ğŸ¯ **å¤šå€‹ skills å¯ä»¥çµ„åˆä½¿ç”¨**
