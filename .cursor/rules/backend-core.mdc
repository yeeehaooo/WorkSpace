---
description:
globs:
alwaysApply: true
---

# Backend Core Engineering Rules

## Architecture

- Follow Clean Architecture (API → Application → Domain → Infrastructure)
- No cross-layer leakage
- Domain must not depend on Infrastructure
- API must not contain business logic

---

## Result & Exception

- Use Result<T> for business outcomes
- BusinessException → handled by ExceptionHandlerDecorator
- InfrastructureException → bubble to global handler
- No empty catch blocks
- Log only at boundary

---

## API

- Stateless endpoints
- No in-memory shared state
- Return consistent APIResponse format
- Do not handle business exceptions in Endpoint

---

## Concurrency

- Assume high concurrency
- Avoid shared mutable state
- Use async/await for I/O
- Prevent N+1 queries

---

## Code Quality

- One responsibility per class
- Prefer explicit naming
- Avoid Util / Helper / Manager
- No static god classes
- Namespace = folder

---

## Security

- Enforce authentication
- Validate inputs
- Do not expose internal exceptions